<!DOCTYPE HTML>
<html lang="zh-CN">

<head>
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="Lee的架构笔记">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="http://lili40342.github.io">
    <!--SEO-->

<meta name="keywords" content="笔记,JSP" />


<meta name="description" content="
    


写在前面最近几天看到一篇博文，说解析 JSP 的文章，文章作者从接触开发一直到现在，将 JSP 分析有条有理，而且文章中还有一部分是回忆过往的回想，让本作者看到以后十分感慨。结合..." />


<meta name="robots" content="all" />
<meta name="google" content="all" />
<meta name="googlebot" content="all" />
<meta name="verify" content="all" />
    <!--Title-->

<title>
    
    渐行渐远的JSP |
    
    Lee的架构笔记
</title>

<link rel="alternate" href="/atom.xml" title="Lee的架构笔记" type="application/atom+xml">


<link rel="icon" href="/favicon.ico">

    


<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7.css">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.7.0.css">
<link rel="stylesheet" href="/css/style.css?rev=@@hash.css">

    
<div class="hide">
    <script type="text/javascript">
    var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
    </script>
</div>




    

<script>
(function() {
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    } else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

<meta name="generator" content="Hexo 4.2.1"></head>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->
<body>
    <header class="main-header"  style="background-image:url(
    /./img/banner2.jpg)"
     >
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                        <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://lili40342.github.io">
                        Lee的架构笔记</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                        <li role="presentation">
                            <a href="/"><i class="fa fa-home"></i>
                                首页</a>
                        </li>
                        
                        <li role="presentation">
                            <a href="https://github.com/lili40342" target="_blank" rel="noopener"><i class="fa fa-github"></i>
                                GitHub</a>
                        </li>
                        
                        <li role="presentation">
                            <a href="https://juejin.im/user/5e32e0e651882526b832024f" target="_blank" rel="noopener"><i class="fa fa-file-code-o"></i>
                                掘金社区</a>
                        </li>
                        
                        <li role="presentation">
                            <a href="https://blog.csdn.net/lili40342" target="_blank" rel="noopener"><i class="fa fa-file-code-o"></i>
                                CSDN社区</a>
                        </li>
                        
                        <li role="presentation">
                            <a href="/archives/"><i class="fa fa-clock-o"></i>
                                归档</a>
                        </li>
                        
                        <li role="presentation">
                            <a href="/about/"><i class="fa fa-user-circle"></i>
                                关于</a>
                        </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="渐行渐远的JSP">
            
            渐行渐远的JSP
            
        </h1>
        <div class="post-meta">
	
	<span class="fa-wrap">
        <i class="fa fa-user"></i>
        <span class="date-meta">
            Lee</span>
    </span>
	
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-book"></i>
        <a class="category-link" href="/categories/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/">编程笔记</a>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            <a class="tag-link" href="/tags/JSP/" rel="tag">JSP</a> <a class="tag-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a>
            
        </span>
    </span>
    
    
    
    <span class="fa-wrap">
        <i class="fa fa-calendar"></i>
        <span class="date-meta">
            2020/06/05</span>
    </span>
    
    
</div>
    </div>
    
    <div class="post-body post-content">
        <div align="center">
    <img src="/img/post/note.png" border="0"/>
</div>

<h3 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h3><p>最近几天看到一篇博文，说解析 JSP 的文章，文章作者从接触开发一直到现在，将 JSP 分析有条有理，而且文章中还有一部分是回忆过往的回想，让本作者看到以后十分感慨。结合这些年一路走来，让自己也陷入沉思。</p>
<h3 id="回忆"><a href="#回忆" class="headerlink" title="回忆"></a>回忆</h3><p>作者是一位10+年时间的老码农，回忆了一下第一次接触所谓的计算机语言那是上大学的时候。那个时候对于自己来说，这些所谓的计算机语言，那是它们认识我，我却不认识它们。记得学习第一门语言是 Pascal 这门课，记忆最深的就是老师课堂上说的那句话“Pascal 语言是一切语言的基础，学会它再学别的语言就简单”。至于我为什么记着这句话，一会再说。面对黑板上密密麻麻的指令，我当时只能说一句“这都是些什么东西”。转眼间第二个学期，又一门语言，C 语言，然后就提到刚才那句记忆尤新的话“C 语言是一切语言的基础，学会它再学别的语言就简单”。好吧，幸亏上学期没好好学 Pascal，转眼一年过去了，一切计算机语言的基础一下子换了个主。说到了这里了，有人就想问作者，你什么时候上的大学？！我只能说我上大学的时候，手机都不普及，上网都是64k猫拨号，大二的时候才刚普及网吧。不多说了，再多说就可以穿越了。</p>
<h3 id="正题"><a href="#正题" class="headerlink" title="正题"></a>正题</h3><p>第一次接触 JSP 的时候，仔细的回忆了一下，应该是在2004年 - 2005年之间吧，具体的实在想不起来了。那个时候就感觉这个 JSP 好强大。当时也不懂什么 MVC，甚至就连数据库的 JDBC 连接都写在 JSP 页面中。当初在页面中又是读数据库又是定义 List 集合，然后各种处理，写出一个分页来，那是多么无比牛X外加炫酷，为了这个历史时刻，还特意的分享到了 QQ 空间炫耀了一把（到现在我还能找到这篇QQ文章）。</p>
<p>然后用 JSP 做的第一个项目就是给一个政府机构做一个网站，当初自己技术不好，为了能拿下这个政府网站的项目，公司特意和一个专门从事这个行业的公司合作做的，为了是以后能开拓这个行业的行业项目。那时候我就奔波与本地与北京之间（那个时候去北京记得好像就两趟快车，早晚各一趟，单程需要5个半小时），话说一个网站有什么复杂的，如果用现在的思维定论去看当时的那个网站，感觉那个时候自己太low了。这个项目是真学到东西了，MVC ?原来是这么回事，从控制器里取数据传递到 JSP 中。晕？Servlet ？什么什么 doGet 和 doPost，emm。啥？Struts 框架？Winform？为什么是这样？除了网站还有一部分行业项目。各种疑惑与疑虑，各种怀疑人生，当时就想还是人家技术牛。勉强跟着人家终于学了些东西，之后把人家的另外一个行业项目拿下，然后终于可有自己去完成这个项目。后来离开了这个公司，至于为什么离开，原因很简单，公司有一个做 PB 和 Delphi 的元老，当时很谦虚的和他一起搞项目，但是他的编程思想实在是不敢恭维，他实在是接受不了我们这些 B/S 架构的软件开发模式。成天把一句话挂自己嘴边“我有10年开发软件的经验…”，您自己慢慢10年吧，我不干了。</p>
<p>辞职换了一个公司，接触了风靡一时的 SSH 框架，然后再接触到 ExtJS，当时为了能做出一个效果，那是真绞尽脑汁，到处问，到处搜，那个时候有关于 ExtJS 的文章还不多。后来还碰见公司一个 ExtJS 牛人，问他为何这么精通 ExtJS，得知他是按照 ExtJS 的 API 一点一点的试的。然后就是更高级点的 Web 服务器，WebLogic 和 WebSphere等吧，然后跟着学各种配置，那是超级晕菜啊。</p>
<p>当时就抱着 JSP 就没放过，记得当初另外一个项目现场用的是 FreeMarker 模板做页面，要把我派到那个现场做开发，实在不爱学也不爱搞，就特意给领导申请不去那里。</p>
<h3 id="时间变迁"><a href="#时间变迁" class="headerlink" title="时间变迁"></a>时间变迁</h3><p>这些年过来，随着时间的推移，技术的更新换代，不管你是在学校学的，还是在培训机构培训的，JSP 应该一下子就带过了。一个现代主流 Java Web 应用，不管前端、后端、还是微服务架构，都在淘汰 JSP。如果还埋怨以前的开发前后端不好分离的话，而现在前后端分离已经不是什么趋势了，而是当前 B/S 架构开发的主流模式了。前端框架已经非常成熟和稳定，不需要 JSP。前后端分离之后，前端只负责展现和交互，后端负责核心业务逻辑。前后端通过 API 进行交互，并且最好符合 RESTful 风格。服务器端把数据返回给前端就不再关心这些数据用在哪里、如何布局、什么样式。</p>
<p>服务器端的 Spring MVC/WebFlux 和 Spring Boot 已经开始抛弃 JSP。从 Spring 5 开始，在原有的基于 Servlet 技术的 Spring MVC 之外增加了一个新的编程模型，就是 Spring WebFlux。Spring WebFlux 是响应式非阻塞的，而且不支持 Servlet API，所以也就不支持 JSP了。至少 Spring MVC 还是支持 JSP 的，个人认为现在已经快是 Spring Boot 的天下了，Spring MVC 都快渐行渐远了。有人说了 Spring Boot 是支持 JSP 的，是的是支持的。</p>
<p>其实用 Spring Boot 的人都知道，它默认的模板引擎是什么？先不管是什么，肯定不是 JSP。是的， Spring Boot 是支持 JSP的，但是 Spring Boot 对 JSP 是有限制的，只能凑合着用 JSP。这里就不去研究到底有什么限制，官方文档里都有说明，而且网上一搜一大把。</p>
<p>好吧，我们继续说一下 Spring Cloud。因为有 Spring Boot 对 JSP 的限制，而 Spring Cloud 的组成部分是 Spring Boot 应用，所以 Spring Cloud 也对 JSP 有限制。其实不仅仅是表面上这个原因，咱们继续分析。</p>
<p>如果强行继续在Spring Cloud环境中继续使用JSP，那么JSP放在哪里？有两种方案吧：</p>
<ol>
<li>API Gateway 和每个 MicroService 里面都有 @Controller 以及对应的 JSP。那么这种方案下，不同微服务中的 JSP 如何通信？用户访问的时候，同一个应用下的所有 JSP 页面会在不同 IP 和端口下来回变换。一会是 ip0:8081/xxx/xxx.jsp，一会是 ip1:8082/xxx/xxx.jsp，点个连接又跳转到 ip2:8080/xxx/xxx.jsp.</li>
<li>把整个微服务应用下的所有 @Controller 和 JSP 都放在 API Gateway 里面，其他 Microservice 中只有提供 REST API 的 @Controller 和 @Service。这种方案并不算理想的微服务架构，因为 Gateway 没有解耦，里面的所有 @Controller 不能拆分部署。这样就相当于在 MicroService 架构下有了一个局部的 Monolithic(单体应用)。</li>
</ol>
<p>以上的方案实在不愿去继续思考了，用一句现在流行的话说就是“太蛋疼了”。其实都已经 Spring Cloud 了，前后端分离开发势在必行了，再用 JSP 就无法完美拆分微服务，无法利用微服务本应带来的各种优势。</p>
<h3 id="就这么多吧"><a href="#就这么多吧" class="headerlink" title="就这么多吧"></a>就这么多吧</h3><p>文中的内容有摘抄，有自己叙述，有自己见解，不代表任何一方，个人想法而已。现在 JSP 处于被前后端夹击的状态，生存空间越来越小了。就算你不打算管前端，只想在服务器端有所建树。微服务的前提也必须前后端分离。如果你还继续 JSP（别闹好吗），服务器端只能停留在 SSH/SSM 阶段，用 Spring Boot + Spring MVC 已经最高领域了。</p>

    </div>
    
    <div class="post-footer">
        <div>
            
            转载声明：
            商业转载请联系作者获得授权,非商业转载请注明出处。
            
            
        </div>
        <div>
            
        </div>
    </div>
</article>
<div class="article-nav prev-next-wrap clearfix">
    
    <a href="/2474365000.html" class="pre-post btn btn-default" title='Java中的ClassLoader'>
        <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
        <span class="hidden-xs">
            Java中的ClassLoader</span>
    </a>
    
    
    <a href="/2784153059.html" class="next-post btn btn-default" title='Java中的泛型'>
        <span class="hidden-lg">下一篇</span>
        <span class="hidden-xs">
            Java中的泛型</span><i class="fa fa-angle-right fa-fw"></i>
    </a>
    
</div>
<!-- 先屏蔽掉评论

<div id="comments">
    
<p>评论系统未开启，无法评论！</p>

</div>

-->
                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">
            文章目录
        </h3>
        
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#写在前面"><span class="toc-text">写在前面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#回忆"><span class="toc-text">回忆</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#正题"><span class="toc-text">正题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#时间变迁"><span class="toc-text">时间变迁</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#就这么多吧"><span class="toc-text">就这么多吧</span></a></li></ol>
        
    </div>
</aside>
                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>
<a id="back-to-top" class="icon-btn hide">
    <i class="fa fa-chevron-up"></i>
</a>
    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>
            </div>
            <div class="col-sm-12">
                <span>Copyright &copy;
                    2020&nbsp;&nbsp;WorkerLee
                    
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>




<script src="/js/app.js?rev=@@hash.js"></script>

</body>
</html>